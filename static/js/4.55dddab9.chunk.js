(this.webpackJsonplearn=this.webpackJsonplearn||[]).push([[4],{101:function(e,t,n){"use strict";n.r(t);var r=n(7),i=n(1),o=n(97),a=n.n(o),s=n(98),c=n.n(s),u=n(44),l=n(10),f=n(0),_=function(e){var t=e.user,n=e.doNotFollow,r=e.follow,i=e.followingProgress;return Object(f.jsxs)("div",{className:c.a.item,children:[Object(f.jsxs)("div",{className:c.a.item_avatar,children:[Object(f.jsx)(l.b,{to:"/profile/"+t.id,children:Object(f.jsx)("div",{className:"".concat(c.a.item_avatar_img," imageUrl"),children:Object(f.jsx)("style",{jsx:!0,children:"\n                          .imageUrl {\n                            background-image: url(".concat(null===t.photos.small?u.a:t.photos.small,");\n                          }\n                        ")})})}),Object(f.jsx)("div",{className:c.a.item_avatar_button,children:t.followed?Object(f.jsx)("button",{disabled:i.some((function(e){return e===t.id})),onClick:function(){n(t.id)},children:"Not follow"}):Object(f.jsx)("button",{disabled:i.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(f.jsxs)("div",{className:c.a.item_info,children:[Object(f.jsxs)("div",{className:c.a.item_info_left,children:[Object(f.jsx)("div",{className:c.a.item_info_left_name,children:t.name}),Object(f.jsx)("div",{className:c.a.item_info_left_status,children:t.status})]}),Object(f.jsxs)("div",{className:c.a.item_info_right,children:[Object(f.jsxs)("div",{className:c.a.item_info_right_country,children:["props.user.location.country",","]}),Object(f.jsx)("div",{className:c.a.item_info_right_city,children:"props.user.location.city"})]})]})]})},g=n(39),m=n(99),d=n.n(m),j=function(e){var t=e.name,n=e.action;return Object(f.jsx)("button",{onClick:n,children:t})},h=function(e){var t=e.page,n=e.currentPage,r=e.onPageChanged;return Object(f.jsx)("span",{className:t===n?d.a.active_page:"",onClick:function(){r(t)},children:t},t.toString())},p=function(e){for(var t=e.totalCount,n=e.pageSize,r=e.currentPage,o=e.onPageChanged,a=e.portionSize,s=void 0===a?10:a,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var _=Math.ceil(c/s),m=Object(i.useState)(1),d=Object(g.a)(m,2),p=d[0],b=d[1],v=(p-1)*s+1,O=p*s;return Object(f.jsxs)("div",{children:[1!==p&&Object(f.jsx)(j,{name:"FIRST",action:function(){b(1)}}),p>1&&Object(f.jsx)(j,{name:"PREV",action:function(){b(p-1)}}),u.filter((function(e){return e>=v&&e<=O})).map((function(e){return Object(f.jsx)(h,{page:e,currentPage:r,onPageChanged:o},e)})),p<_&&Object(f.jsx)(j,{name:"NEXT",action:function(){b(p+1)}}),p!==_&&Object(f.jsx)(j,{name:"LAST",action:function(){b(_)}})]})},b=function(e){var t=e.totalCount,n=e.pageSize,r=e.currentPage,i=e.onPageChanged,o=e.users,s=e.follow,c=e.doNotFollow,u=e.followingProgress;return Object(f.jsxs)("div",{children:[Object(f.jsx)(p,{totalCount:t,pageSize:n,currentPage:r,onPageChanged:i}),Object(f.jsx)("div",{className:a.a.users,children:o.map((function(e){return Object(f.jsx)(_,{user:e,follow:s,doNotFollow:c,followingProgress:u},e.id)}))})]})},v=n(40),O=n(55);function x(e,t){return e===t}function P(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function w(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var y=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,a=r.pop(),s=w(r),c=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=a,u.dependencies=s,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=null,r=null;return function(){return P(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var N=y((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),C=function(e){return e.usersPage.totalCount},U=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.currentPage},F=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingProgress};var z={follow:O.c,doNotFollow:O.b,setUsers:O.g,setTotalUsersCount:O.f,setCurrentPage:O.e,requestUsers:O.d};t.default=Object(r.b)((function(e){return{users:N(e),totalCount:C(e),pageSize:U(e),currentPage:S(e),isFetching:F(e),followingProgress:I(e)}}),z)((function(e){return Object(i.useEffect)((function(){e.requestUsers(e.pageSize,e.currentPage)}),[]),Object(f.jsxs)(f.Fragment,{children:[e.isFetching&&Object(f.jsx)(v.a,{}),Object(f.jsx)(b,{totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:function(t){e.requestUsers(e.pageSize,t)},users:e.users,follow:e.follow,doNotFollow:e.doNotFollow,followingProgress:e.followingProgress})]})}))},97:function(e,t,n){e.exports={users:"Users_users__2_JOT"}},98:function(e,t,n){e.exports={item:"UserItem_item__18RHo",item_avatar:"UserItem_item_avatar__2RaKK",item_avatar_img:"UserItem_item_avatar_img__3FIng",item_avatar_button:"UserItem_item_avatar_button__2gOXn",item_info:"UserItem_item_info__3OSrt",item_info_left:"UserItem_item_info_left__3iLeM",item_info_left_name:"UserItem_item_info_left_name__3Jq8T",item_info_left_status:"UserItem_item_info_left_status__fA-qd",item_info_right:"UserItem_item_info_right__1ilY7",item_info_right_country:"UserItem_item_info_right_country__c6tuI",item_info_right_city:"UserItem_item_info_right_city__1ubjo"}},99:function(e,t,n){e.exports={active_page:"Paginator_active_page__1sXde"}}}]);
//# sourceMappingURL=4.55dddab9.chunk.js.map